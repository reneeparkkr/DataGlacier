"0","library(ggrepel)"
"0","library(scales)"
"0","ylab <- c(2,4,6,8,10,12,14,16,18)"
"0","combined %>% mutate(year = case_when(.$date >= ""2016-01-01"" & combined$date <= ""2016-12-31"" ~ 2016,"
"0","                                     .$date >= ""2017-01-01"" & combined$date <= ""2017-12-31"" ~ 2017,"
"0","                                     .$date >= ""2018-01-01"" & combined$date <= ""2018-12-31"" ~ 2018)) %>% group_by(year,Company) %>% summarise(profits=sum(profit)) %>% ungroup() %>% na.omit() %>%ggplot(aes(year, profits, color = Company)) + geom_point() +geom_line() + scale_x_continuous(breaks=unique(combined$year),labels=unique(combined$year)) + scale_y_continuous(labels = paste0(ylab,""M""), breaks = 10^6*ylab) + geom_label_repel(aes(label=comma(round(profits,digits = 0),fill = Company)), size = 5, position = ""nudge"") +annotate(""segment"", x=2016.45,xend=2016.6,y=15000000,yend=13000000,color = ""grey"") + annotate(""text"", x = 2016.6, y = 12500000, label = ""20.3% increase"") +annotate (""segment"", x=2017.55,xend=2017.5,y=14900000,yend=12300000,color = ""grey"") + annotate(""text"", x = 2017.45, y = 12000000, label = ""17.9% decrease"") + annotate (""segment"", x=2017.5,xend=2017.55,y=2000000,yend=2500000,color = ""grey"") + annotate(""text"", x = 2017.6, y = 3000000, label = ""22.3% decrease"") + annotate(""segment"", x=2016.6,xend=2016.45,y=2500000,yend=2000000,color = ""grey"") + annotate(""text"", x = 2016.65, y = 3000000, label = ""20.6% increase"")"
"2","`summarise()` has grouped output by 'year'. You can override using the `.groups` argument.
"
"2","Unknown or uninitialised column: `year`."
"2","Unknown or uninitialised column: `year`."
