"0","library(readr)"
"0","WeatherEvents_Jan2016_Dec2020 <- read_csv(""WeatherEvents_Jan2016-Dec2020.csv"")"
"2","
[36mâ”€â”€[39m [1m[1mColumn specification[1m[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
cols(
  EventId = [31mcol_character()[39m,
  Type = [31mcol_character()[39m,
  Severity = [31mcol_character()[39m,
  `StartTime(UTC)` = [34mcol_datetime(format = """")[39m,
  `EndTime(UTC)` = [34mcol_datetime(format = """")[39m,
  TimeZone = [31mcol_character()[39m,
  AirportCode = [31mcol_character()[39m,
  LocationLat = [32mcol_double()[39m,
  LocationLng = [32mcol_double()[39m,
  City = [31mcol_character()[39m,
  County = [31mcol_character()[39m,
  State = [31mcol_character()[39m,
  ZipCode = [32mcol_double()[39m
)

"
"0","Weather <- WeatherEvents_Jan2016_Dec2020 %>% select(Type,`StartTime(UTC)`,City) %>% rename(date=`StartTime(UTC)`) %>% mutate(date = as.Date(.$date, form = ""%y-%m-%d"")) %>% filter(date >=  ""2016-01-04"" & date <= ""2018-12-31"") %>% filter(.$City %in% c(""New York"",""Chicago"",""Los Angeles"",""Miami"",""Silicon Valley"",""Orange County"",""San Diego"",""Phoenix"",""Dallas"",""Atlanta"",""Denver"",""Austin"",""Seattle"",""Tucson"",""San Francisco"",""Sacramento"",""Pittsburgh"",""Washington"",""Nashville"",""Boston""))%>% group_by(date,City) %>% arrange(Type) %>% slice(1L)"
"0","combined <- combined %>% mutate(City = case_when(.$City == ""NEW YORK NY"" ~ ""New York"","
"0","                                           .$City == ""CHICAGO IL"" ~ ""Chicago"","
"0","                                           .$City == ""LOS ANGELES CA"" ~ ""Los Angeles"","
"0","                                           .$City == ""MIAMI FL"" ~ ""Miami"","
"0","                                           .$City == ""SILICON VALLEY"" ~ ""Silicon Valley"","
"0","                                           .$City == ""ORANGE COUNTY"" ~ ""Orange County"","
"0","                                           .$City == ""SAN DIEGO CA"" ~ ""San Diego"","
"0","                                           .$City == ""PHOENIX AZ"" ~ ""Phoenix"","
"0","                                           .$City == ""DALLAS TX"" ~ ""Dallas"","
"0","                                           .$City == ""ATLANTA GA"" ~ ""Atlanta"","
"0","                                           .$City == ""DENVER CO"" ~ ""Denver"","
"0","                                           .$City == ""AUSTIN TX"" ~ ""Austin"","
"0","                                           .$City == ""SEATTLE WA"" ~ ""Seattle"","
"0","                                           .$City == ""TUCSON AZ"" ~ ""Tucson"","
"0","                                           .$City == ""SAN FRANCISCO CA"" ~ ""San Francisco"","
"0","                                           .$City == ""PITTSBURGH PA"" ~ ""Pittsburgh"","
"0","                                           .$City == ""WASHINGTON DC"" ~ ""Washington"","
"0","                                           .$City == ""NASHVILLE TN"" ~ ""Nashville"","
"0","                                           .$City == ""BOSTON MA"" ~ ""Boston"","
"0","                                           .$City == ""SACRAMENTO CA"" ~ ""Sacramento""))"
"0","combined_weather <- full_join(combined, Weather)"
"2","Joining, by = c(""City"", ""date"")
"
